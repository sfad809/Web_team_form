<html>
	<head>
		<link rel="stylesheet" href="css/element_question.css">
		<style>
			body {
				background-color:white;

				margin: 20px 0px 40px 0px;
				padding: 1px 10px 10px 10px; /*위 오른쪽 아래 왼쪽*/
			}
			.create_question_type {
				position: absolute; /* 타입 드롭다운 오른쪽에 배치 */

				right: 40px;

				width: 140px;
				height: 60px;
			}
		</style>
	</head>
	<body>
		<div id="container">
			<!-- Title -->
			<fieldset class="question_container">
				<h1 id="title">새 설문지</h1>
				<hr style="background-color: #94d9f0;">

				<div class="description">설문 설명</div>
			</fieldset>

			<!-- Question 0 -->
			<fieldset class="question_container">
				<textarea id="question_name_0" class="create_question_name"
					rows="2" cols="50" name="contents" placeholder="질문 제목을 입력하세요" maxlength=24"></textarea>
			
				<span class="create_question_type">
					<select id="selectType_0" onchange="changeOptionType()">
						<option>
							<span>[[Img]]</span>
							<span>라디오 버튼</span>
						</option>
						<option>
							<span>[[Img]]</span>
							<span>체크박스</span>
						</option>
						<option>
							<span>[[Img]]</span>
							<span>드롭다운</span>
						</option>
						<option>
							<span>[[Img]]</span>
							<span>단답형</span>
						</option>
					</select>
				</span>
				<br>

				<div style="font-size:0.7em" id="options">
					<div id="option_0_0" class="option">
						<input type="radio" name="o" disabled>
						<input class="optionName" type="text" placeholder="옵션1">
					</div>
					<div id="option_0_1" class="option">
						<input type="radio" name="o" disabled>
						<input class="optionName" type="text" placeholder="옵션2">
					</div>
				</div>
		
				<div style="font-size:0.7em" id="answer_0" class="answer">
					<input type="text" placeholder="단답형 텍스트" disabled>
				</div>
			
				<input id="addOption_0" class="addOption" type="button" value="옵션 추가 또는 '기타' 추가" onclick="addOption()">
			</fieldset>

		<script>
			changeOptionType();

			function changeOptionType() {
				var select = document.getElementById("selectType");

				var options = document.getElementById("options");
				var text = document.getElementById("text");
				var add = document.getElementById("addOption");

				if(select.selectedIndex < 3)
				{
					if(text.style.display != "none")
					{
						text.style.display = "none";
						options.style.display = "block";
						add.style.display = "block";
					}
					var newType = select.selectedIndex == 1 ? "checkbox" : "radio";
					
					var options = document.getElementById("options");
					var inputs = options.querySelectorAll("input");
					inputs.forEach(input => { input.type = newType; });
				}
				else
				{
					options.style.display = "none";
					add.style.display = "none";
					text.style.display = "block";
				}
			}

			function addOption() {
				var options = document.getElementById("options");
				
				var length = options.children.length-1;
				if(length > 3)
				{
					alert("5개");
					return;
				}

				var lastOption = options.children[length];
				
				var newNode = lastOption.cloneNode(true);
				newNode.id = "option_" + length;
				newNode.children[1].innerHTML = "옵션 " + (length+2);

				lastOption.after(newNode);
			}
		</script>
	</body>
</html>